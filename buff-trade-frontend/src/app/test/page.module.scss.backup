@import "../../styles/_color.scss";
@import "../../styles/_mixin.scss";

.test-page {
  // Design tokens
  --border-radius-sm: 4px;
  --border-radius-md: 6px;
  --border-radius-lg: 8px;
  --border-radius-xl: 12px;
  --border-radius-2xl: 16px;
  --border-radius-3xl: 18px;
  --border-radius-full: 999px;

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1);
  --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.25);
  --shadow-card: 0 28px 60px rgba(0, 0, 0, 0.45);
  --shadow-card-hover: 0 32px 70px rgba(0, 0, 0, 0.52);

  --color-success: #10b981;
  --color-success-hover: #059669;
  --color-danger: #ef4444;
  --color-danger-hover: #dc2626;
  --color-warning: #f59e0b;
  --color-info: #3b82f6;
  --color-primary: #ff6b35;
  --color-primary-hover: #e55a2b;

  --color-bg-primary: #0f1218;
  --color-bg-secondary: #161a22;
  --color-bg-tertiary: #1a1a1a;
  --color-bg-card: #10141c;
  --color-bg-overlay: rgba(0, 0, 0, 0.7);

  --color-border-primary: #1d222c;
  --color-border-secondary: #262c38;
  --color-border-tertiary: #323a48;
  --color-border-subtle: rgba(255, 255, 255, 0.1);

  --color-text-primary: #ffffff;
  --color-text-secondary: #f5f7fb;
  --color-text-tertiary: #cbd5e0;
  --color-text-muted: #8c96aa;
  --color-text-subtle: #757c82;
  --color-text-system02: #D1D9E0

  // Table column definitions
  --table-cols-desktop: 2fr 1fr 1.5fr 1fr 1fr 1fr;
  --table-cols-mobile: 1fr;
  --table-cols-metrics: 1fr 1fr;

  // Utility classes for state colors
  .is-positive {
    color: var(--color-success) !important;
  }

  .is-negative {
    color: var(--color-danger) !important;
  }

  .is-muted {
    color: var(--color-text-muted) !important;
  }

  .is-success {
    color: var(--color-success) !important;
  }

  .is-danger {
    color: var(--color-danger) !important;
  }

  .is-warning {
    color: var(--color-warning) !important;
  }

  .is-info {
    color: var(--color-info) !important;
  }

  background-color: var(--color-black);
  width: 100%;
  padding-left: 192px;
  height: auto;
  min-height: 100vh;
  padding: 32px;

  .container {
    max-width: 1200px;
    margin: 0 auto;
  }

  // Header Section
  .header-section {
    text-align: center;
    margin-bottom: 48px;

    h1 {
      font-size: 40px;
      font-weight: 700;
      color: var(--color-text-primary);
      margin-bottom: 16px;
    }

    p {
      font-size: 18px;
      color: var(--color-text-tertiary);
      margin-bottom: 32px;
      opacity: 0.8;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
  }

  .launch-token-btn {
    @include button-primary;
    padding: 16px 32px;
    font-size: 19px;
    border-radius: 10px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(251, 191, 36, 0.3);

    // override: yellow background, black text
    background: #fbbf24 !important;
    color: var(--color-neutral-token11) !important;

    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(251, 191, 36, 0.4);
      background: #f59e0b !important;
    }
  }

  // Trending Section
  .trending-section {
    margin-bottom: 48px;

    h2 {
      font-size: 29px;
      color: #ffffff;
      margin-bottom: 24px;
    }
  }

  .trending-cards {
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: stretch;
  }

  .trending-card {
    background: #1a1a1a;
    border-radius: 12px;
    border: 1px solid #333;
    transition: all 0.3s ease;
    width: 100%;
    min-height: 200px;
    padding: 20px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    position: relative;

    &:hover {
      transform: translateY(-2px);
      border-color: rgba(102, 126, 234, 0.4);
    }

    .card-header {
      display: flex;
      gap: 16px;
      align-items: flex-start;
      margin-bottom: 16px;
      position: relative;
    }

    .token-icon {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      object-fit: cover;
      flex-shrink: 0;
    }

    .token-overview {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;

      .token-title-row {
        display: flex;
        align-items: center;
        gap: 12px;

        h3 {
          color: #ffffff;
          font-size: 20px;
          font-weight: 700;
          margin: 0;
        }

        .token-symbol {
          color: var(--color-neutral-token03);
          font-size: 16px;
          font-weight: 500;
        }
      }

      .action-icons {
        position: absolute;
        top: 0;
        right: 0;
        display: flex;
        gap: 8px;

        .icon-btn {
          width: 32px;
          height: 32px;
          border-radius: 6px;
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.2s ease;
          color: var(--color-neutral-token03);

          &:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
          }
        }
      }

      .metrics-row {
        display: grid;
        grid-template-columns: var(--table-cols-metrics);
        gap: 12px;

        .metric {
          display: flex;
          flex-direction: column;
          gap: 2px;

          .nav {
            color: #fbbf24; // yellow for market cap
            font-weight: 700;
          }

          .agent-pnl {
            color: #ffffff; // white for agent pnl value
            font-weight: 700;
          }

          .metric-label {
            color: #a0aec0;
            font-size: 11px;
          }
        }
      }
    }

    .top-trades-section {
      margin-top: 16px;
      padding-top: 12px;

      .section-title {
        color: #ffffff;
        font-weight: 600;
        font-size: 14px;
        margin-bottom: 8px;
      }

      .chips-row {
        display: flex;
        gap: 8px;
        align-items: center;
      }

      .trade-chip {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 10px;
        border-radius: 6px;
        background: #2a2a2a;
        border: 1px solid #444;

        .chip-name {
          color: #ffffff;
          font-size: 13px;
          font-weight: 600;
        }

        .chip-change {
          font-size: 13px;
          font-weight: 700;
        }
      }
    }

    .buy-now-section {
      margin-top: auto;
      padding-top: 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;

      .last-trade-info {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--color-neutral-token03);
        font-size: 14px;

        .trade-type {
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 0.75rem;
          font-weight: 600;

          &.buy {
            background: #10b981;
            color: #ffffff;
          }

          &.sell {
            background: #ef4444;
            color: #ffffff;
          }
        }
      }

      .buy-now-btn {
        background: #ff6b35;
        color: #ffffff;
        border: none;
        border-radius: 8px;
        padding: 12px 24px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
        width: 832px;
        height: 64px;
        justify-content: center;

        &:hover {
          background: #e55a2b;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
        }

        &:active {
          transform: translateY(0);
        }

        .shopping-icon {
          font-size: 18px;
        }
      }
    }
  }

  .token-icon {
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .token-info {
    h3 {
      color: #ffffff;
      font-size: 19px;
      margin-bottom: 0.5rem;
    }
  }

  .market-data {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;

    .nav {
      color: #ffffff;
      font-weight: 600;
    }

    .pnl {
      color: #ef4444; // red for negative PnL
      font-weight: 700;
      font-size: 0.95rem;
    }
  }

  .top-trades {
    .trade {
      color: #cbd5e0;
      font-size: 0.9rem;
      margin-bottom: 0.25rem;
    }
  }

  .featured-trending-section {
    margin: 2.5rem 0;
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .featured-trending-card {
    background: var(--color-bg-primary);
    border: 1px solid var(--color-border-primary);
    border-radius: 22px;
    padding: 28px 32px;
    display: flex;
    flex-direction: column;
    gap: 28px;
    box-shadow: var(--shadow-card);
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease,
      border-color 0.2s ease;
    width: 100%;
    max-width: 920px;
    margin: 0 auto;

    &:hover {
      transform: translateY(-4px);
      border-color: #2c3340;
      box-shadow: var(--shadow-card-hover);
    }
  }

  .featured-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 75px;
    flex-wrap: wrap;
  }

  .identity-block {
    display: flex;
    gap: 20px;
    align-items: flex-start;
  }

  .identity-image {
    width: 88px;
    height: 88px;
    border-radius: 18px;
    object-fit: cover;
    border: 1px solid #2b303b;
    background: #171b22;
    box-shadow: 0 14px 32px rgba(0, 0, 0, 0.45);
  }

  .identity-meta {
    display: flex;
    flex-direction: column;
    gap: 18px;
  }

  .identity-name-row {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
  }

  .identity-name {
    margin: 0;
    font-size: 1.55rem;
    font-weight: 700;
    color: #f5f7fb;
  }

  .identity-symbol {
    padding: 4px 14px;
    border-radius: 14px;
    color: #757c82;
    font-size: 13px;
    font-weight: 600;
    letter-spacing: 0.05em;
  }

  .featured-metrics-row {
    display: flex;
    flex-wrap: wrap;
    gap: 2px;
  }

  .metric-card {
    min-width: 260px;
    border-radius: 16px;
    padding: 14px 20px;
    display: flex;
    align-items: center;
    gap: 7px;
    font-size: 0;
  }

  .metric-inline-title {
    font-size: 14px;
    font-weight: 600;
    color: #f6f8fc;
  }

  .metric-inline-subtitle {
    font-size: 12px;
    font-weight: 400;
    color: #8c96aa;
  }

  .metric-inline-value {
    font-size: 12px;
    font-weight: 700;
    color: #f6f8fc;

    &.primary {
      color: #f6f8fc;
    }
  }

  .metric-inline-change {
    font-size: 12px;
    font-weight: 400;
    color: #8fa0b8;
    display: flex;
    align-items: center;
  }

  .card-action-buttons {
    display: flex;
    gap: 12px;
  }

  .icon-button {
    @extend .btn;
    @extend .btn--icon;
    border-radius: 12px;

    &:active {
      transform: translateY(1px);
    }
  }

  .featured-info-strip {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    background: var(--color-bg-card);
    border: 1px solid #1c222d;
    border-radius: var(--border-radius-3xl);
    padding: 18px 20px;
  }

  .featured-strip-block {
    flex: 1 1 260px;
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;

    &.right {
      justify-content: flex-start;
    }
  }

  .strip-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border-radius: 7px;
    background: #161b24;
    border: 1px solid #262d38;
    color: #a6b4c9;

    &.arrow {
      color: #e2e8f0;
    }

    &.clock {
      color: #e2e8f0;
    }
  }

  .strip-title {
    font-size: 0.95rem;
    font-weight: 600;
    color: #f1f5f9;
  }

  .strip-chips {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }

  .strip-chip {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 6px 6px;
    border-radius: 999px;
    font-size: 0.85rem;
    color: #d7dde9;
  }

  .chip-symbol {
    font-weight: 600;
    color: #f8fafc;
  }

  .chip-change {
    font-weight: 700;
  }

  .strip-empty {
    font-size: 0.85rem;
    color: #68758a;
  }

  .strip-last-trade {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .last-trade-type {
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 0.8rem;
    font-weight: 600;
    background: rgba(61, 202, 123, 0.15);
    color: #3dca7b;

    &.sell {
      background: rgba(248, 113, 113, 0.2);
      color: #f87171;
    }
  }

  .last-trade-detail {
    font-size: 0.92rem;
    color: #d0d7e5;
  }

  .featured-card-cta {
    margin-top: 4px;
    display: flex;
    justify-content: center;
  }

  .featured-buy-button {
    width: 100%;
    max-width: 872px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 0;
    border-radius: 16px;
    border: 1px solid #323a48;
    background: #2a2f3a;
    color: #f6f8fc;
    font-size: 1.05rem;
    font-weight: 600;
    transition: all 0.2s ease;

    &:hover {
      background: var(--color-accent-point02);
      border-color: var(--color-accent-point02);
      color: #ffffff;
      box-shadow: 0 16px 36px rgba(199, 67, 15, 0.35);
    }

    &:active {
      transform: translateY(1px);
    }
  }

  .buy-icon {
    display: flex;
    align-items: center;
  }

  @media (max-width: 768px) {
    .featured-trending-card {
      padding: 24px;
    }

    .identity-image {
      width: 72px;
      height: 72px;
    }

    .featured-info-strip {
      flex-direction: column;
      align-items: stretch;
    }

    .featured-strip-block.right {
      justify-content: flex-start;
    }
  }

  @media (max-width: 540px) {
    .featured-card-header {
      flex-direction: column;
      align-items: stretch;
    }

    .card-action-buttons {
      align-self: flex-end;
    }

    .identity-block {
      flex-direction: column;
      align-items: flex-start;
    }

    .featured-strip-block {
      justify-content: flex-start;
    }
  }

  // Token List Section
  .token-list-section {
    margin-bottom: 48px;
  }

  .list-header {
    display: flex;
    align-items: center;
    margin-bottom: 1.5rem;
    flex-wrap: nowrap;
  }

  .trending-title-section {
    display: flex;
    align-items: center;
    gap: 4px;
    margin-right: 1rem;

    h2 {
      font-size: 24px;
      color: #ffffff;
      margin: 0;
      font-weight: 600;
      margin-left: 28px;
    }

    .flame-icon {
      font-size: 1.5rem;
      color: #ff6b35;
    }
  }

  .search-section {
    position: relative;
    display: flex;
    align-items: center;
    margin-left: auto;

    .search-icon-btn {
      width: 44px;
      height: 44px;
      border-radius: 8px;
      border: 1px solid #0a0d12;
      color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      flex-shrink: 0;
      margin-left: 0.5rem;

      &:hover {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
      }

      &:active {
        transform: scale(0.95);
      }

      &.active {
        background: rgba(102, 126, 234, 0.2);
        color: #667eea;
      }
    }

    .search-input {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      padding: 0.75rem 1rem;
      color: #ffffff;
      font-size: 1rem;
      width: 300px;
      height: 44px;
      box-sizing: border-box;
      animation: slideIn 0.2s ease-out;

      &::placeholder {
        color: #cbd5e0;
      }

      &:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.2);
      }
    }
  }

  // Search Modal Styles
  .search-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    z-index: 1000;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding-top: 20vh;
    animation: fadeIn 0.2s ease-out;
  }

  .search-modal-content {
    width: 100%;
    max-width: 832px;
    animation: slideInModal 0.3s ease-out;
    max-height: 80vh;
    overflow-y: auto;
  }

  .search-input-modal {
    width: 100%;
    height: 60px;
    padding: 0 2rem;
    border: 2px solid var(--color-accent-point02);
    border-radius: 12px;
    background: rgba(0, 0, 0, 0.8);
    color: #ffffff;
    font-size: 19px;
    outline: none;
    transition: all 0.2s ease;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;

    &::placeholder {
      color: var(--color-neutral-token04);
      font-weight: 500;
    }

    &:focus {
      border-color: #ff6b35;
      box-shadow: 0 0 20px rgba(199, 67, 15, 0.3);
    }
  }

  // Search Results Styles
  .search-results {
    margin-top: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    max-height: 60vh;
    overflow-y: auto;
  }

  .search-result-card {
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;

    &:hover {
      background: rgba(0, 0, 0, 0.8);
      border-color: rgba(199, 67, 15, 0.3);
      transform: translateY(-2px);
    }
  }

  .search-result-header {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .search-result-image {
    width: 60px;
    height: 60px;
    border-radius: 8px;
    object-fit: cover;
    flex-shrink: 0;
  }

  .search-result-info {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 2rem;
  }

  .search-result-name-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-shrink: 0;
  }

  .search-result-name {
    font-size: 24px;
    font-weight: 600;
    color: var(--color-neutral-token01);
    margin: 0;
  }

  .search-result-symbol {
    font-size: 13px;
    color: #cbd5e0;
    background: rgba(255, 255, 255, 0.1);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
  }

  .search-result-metrics {
    display: flex;
    gap: 2rem;
    align-items: center;
  }

  .search-result-metric {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .search-result-label {
    font-size: 0.8rem;
    color: #cbd5e0;
    font-weight: 500;
  }

  .search-result-value {
    font-size: 0.8rem;
    color: #cbd5e0;
    font-weight: 500;
  }

  .search-result-pnl {
    font-size: 0.9rem;
    font-weight: 600;
    color: #ffffff;
  }

  .search-result-market-cap {
    font-size: 0.9rem;
    color: #ffffff;
    font-weight: 600;
  }

  .search-result-change {
    font-size: 0.8rem;
    font-weight: 500;
  }

  .search-no-results {
    margin-top: 2rem;
    text-align: center;
    padding: 3rem 2rem;
    color: #cbd5e0;
    font-size: 19px;
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100px;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideInModal {
    from {
      opacity: 0;
      transform: translateY(-20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateX(-10px);
      width: 0;
    }
    to {
      opacity: 1;
      transform: translateX(0);
      width: 300px;
    }
  }

  // Common button base
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s ease;
    text-decoration: none;
    white-space: nowrap;

    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    // Size modifiers
    &--sm {
      padding: 4px 8px;
      font-size: 0.75rem;
      height: 28px;
    }

    &--md {
      padding: 8px 16px;
      font-size: 0.9rem;
      height: 40px;
    }

    &--lg {
      padding: 12px 24px;
      font-size: 1rem;
      height: 48px;
    }

    &--xl {
      padding: 16px 32px;
      font-size: 19px;
      height: 60px;
    }

    // Style modifiers
    &--primary {
      background: #ff6b35;
      color: #ffffff;

      &:hover:not(:disabled) {
        background: #e55a2b;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
      }
    }

    &--secondary {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #ffffff;

      &:hover:not(:disabled) {
        background: rgba(255, 255, 255, 0.1);
      }
    }

    &--success {
      background: #10b981;
      color: #ffffff;

      &:hover:not(:disabled) {
        background: #059669;
      }
    }

    &--danger {
      background: #ef4444;
      color: #ffffff;

      &:hover:not(:disabled) {
        background: #dc2626;
      }
    }

    &--icon {
      width: 40px;
      height: 40px;
      padding: 0;
      background: #161a22;
      border: 1px solid #262c38;
      color: #d3d8e5;

      &:hover:not(:disabled) {
        background: #1e2430;
        border-color: #343b49;
        color: #ffffff;
      }
    }

    &--search {
      width: 44px;
      height: 44px;
      padding: 0;
      background: transparent;
      border: 1px solid #0a0d12;
      color: #ffffff;

      &:hover:not(:disabled) {
        background: rgba(255, 255, 255, 0.1);
      }
    }
  }

  .filters {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .filter-btn {
    @extend .btn;
    @extend .btn--secondary;
    @extend .btn--sm;
    width: 82px;

    &.active {
      background: var(--color-neutral-token07);
      border-color: var(--color-neutral-token07);
      color: var(--color-neutral-token01);
    }
  }

  .loading,
  .error {
    text-align: center;
    padding: 32px;
    color: #cbd5e0;
  }

  .error {
    color: #ff6b6b;
  }

  // Token Table
  .token-table {
    background: #1a1a1a;
    border-radius: 12px;
    overflow: hidden;
    border: 1px solid #333;
  }

  .table-header {
    display: grid;
    grid-template-columns: var(--table-cols-desktop);
    gap: 1rem;
    padding: 1rem;
    background: #2a2a2a;
    font-weight: 600;
    color: #ffffff;
    font-size: 0.9rem;
  }

  .table-row {
    display: grid;
    grid-template-columns: var(--table-cols-desktop);
    gap: 1rem;
    padding: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.2s ease;
    cursor: pointer;

    &:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    &:last-child {
      border-bottom: none;
    }
  }

  .token-cell {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: #ffffff;
    position: relative;
  }

  .graduated-badge {
    font-size: 0.8rem;
    margin-left: 4px;
    opacity: 0.8;
  }

  .col-token,
  .col-action {
    display: flex;
    align-items: center;
    color: #cbd5e0;
    font-size: 0.9rem;
  }

  .col-last-trade {
    display: flex;
    align-items: center;
    color: #cbd5e0;
    font-size: 0.9rem;
  }

  .last-trade-container {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .trade-action-btn {
    @extend .btn;
    @extend .btn--sm;
    border-radius: 4px;

    &.buy {
      @extend .btn--success;
    }

    &.sell {
      @extend .btn--danger;
    }

    &:hover {
      opacity: 0.8;
    }
  }

  .trade-details {
    color: var(--color-neutral-token04);
    font-size: 0.85rem;
    font-weight: 500;
  }

  .col-market-cap {
    display: flex;
    align-items: center;
    color: #ffffff; // white for market cap
    font-size: 0.9rem;
    font-weight: 600;
  }

  .col-top-trade {
    display: flex;
    align-items: center;
    gap: 8px; // Add gap between token symbol and percentage
    color: #ffffff; // white for top trade
    font-size: 0.9rem;
    font-weight: 600;
  }

  .top-trade-pnl {
    font-weight: 700;
    color: #ef4444; // red for negative
  }

  .col-total-pnl {
    display: flex;
    align-items: center;
    font-size: 0.9rem;
    font-weight: 600;
    min-width: 80px; // 최소 너비 보장
    justify-content: center; // 중앙 정렬
  }

  .buy-btn,
  .buy-button {
    @extend .btn;
    @extend .btn--md;
    background: #ffffff;
    color: var(--color-neutral-token11);

    &:hover {
      background: #f3f4f6;
      transform: translateY(-1px);
    }

    &:active {
      transform: translateY(0);
    }
  }

  // Pagination
  .pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
    margin-top: 2rem;
  }

  .page-btn {
    @extend .btn;
    @extend .btn--secondary;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    color: #cbd5e0;

    &:hover:not(:disabled) {
      background: rgba(255, 255, 255, 0.15);
    }

    &.page-number {
      width: 44px;
      height: 44px;
    }

    &.active {
      background: transparent;
      border-color: #ffffff;
      border-width: 2px;
      color: #ffffff;
    }
  }

  // Test Section (for debugging)
  .test-section {
    margin-top: 2rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    align-items: center;
    padding: 32px;
    border: 2px dashed rgba(255, 255, 255, 0.3);
    border-radius: 12px;
  }

  // Connection Test Section
  .connection-test-section {
    margin-top: 2rem;
    padding: 32px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;

    h3 {
      color: #ffffff;
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    p {
      color: #cbd5e0;
      margin-bottom: 24px;
      opacity: 0.8;
    }
  }

  .create-token-btn,
  .tradingview-btn {
    @extend .btn;
    @extend .btn--xl;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);

    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    &:active {
      transform: translateY(0);
    }
  }

  .create-token-btn {
    background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
  }

  .tradingview-btn {
    background: linear-gradient(45deg, #00d4aa 0%, #00a8cc 100%);
    box-shadow: 0 4px 15px rgba(0, 212, 170, 0.3);

    &:hover {
      box-shadow: 0 6px 20px rgba(0, 212, 170, 0.4);
    }
  }

  // Responsive Design
  @media (max-width: 768px) {
    padding-left: 1rem;
    padding-right: 1rem;

    .trending-cards {
      grid-template-columns: var(--table-cols-mobile);
    }

    .list-header {
      flex-direction: column;
      align-items: stretch;
    }

    .search-section .search-input {
      width: 100%;
    }

    // Mobile Search Modal Styles
    .search-modal-overlay {
      padding-top: 15vh;
    }

    .search-modal-content {
      width: 100%;
      max-width: 390px;
    }

    .search-input-modal {
      height: 60px;
      padding: 0 1.5rem;
      font-size: 18px;
    }

    // Mobile Search Results
    .search-results {
      max-height: 50vh;
    }

    .search-result-card {
      padding: 0.75rem;
    }

    .search-result-header {
      gap: 0.75rem;
    }

    .search-result-image {
      width: 32px;
      height: 32px;
    }

    .search-result-info {
      flex-direction: row;
      align-items: center;
      gap: 0.75rem;
    }

    .search-result-name {
      font-size: 13px;
    }

    .search-result-symbol {
      font-size: 11px;
    }

    .search-result-metrics {
      display: none;
    }

    .search-result-label {
      font-size: 0.75rem;
    }

    .search-result-value {
      font-size: 0.8rem;
    }

    .search-result-pnl,
    .search-result-market-cap {
      font-size: 0.8rem;
    }

    .search-result-change {
      font-size: 0.75rem;
    }

    .table-header,
    .table-row {
      grid-template-columns: var(--table-cols-mobile);
      gap: 0.5rem;
    }

    .table-header > div,
    .table-row > div {
      padding: 0.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
  }

  // Mobile responsive design for 620px and below
  @media (max-width: 620px) {
    padding: 1rem;
    padding-left: 0.5rem;
    padding-right: 0.5rem;

    .container {
      max-width: 100%;
      margin: 0;
    }

    // Header adjustments
    .list-header {
      flex-direction: row;
      gap: 0.5rem;
      margin-bottom: 24px;
      overflow-x: auto;
      padding-bottom: 0.5rem;
      align-items: center;
    }

    .trending-title-section {
      flex-shrink: 0;
      margin-right: auto;
      margin-left: 1rem;

      h2 {
        font-size: 24px;
        font-weight: 600;
      }
    }

    .search-section {
      flex-shrink: 0;

      .search-icon-btn {
        width: 40px;
        height: 40px;
        margin-left: 0.3rem;
        border: 1px solid #0a0d12;
      }

      .search-input {
        width: 200px;
        font-size: 14px;
        padding: 0.6rem 0.8rem;
        animation: slideInMobile 0.2s ease-out;
      }
    }

    .filters {
      flex-shrink: 0;
      gap: 0.4rem;
      white-space: nowrap;
      order: 4; // Keep filters before search
    }

    @keyframes slideInMobile {
      from {
        opacity: 0;
        transform: translateX(-10px);
        width: 0;
      }
      to {
        opacity: 1;
        transform: translateX(0);
        width: 200px;
      }
    }

    .filter-btn {
      width: 82px;
      height: 28px;
      font-size: 0.8rem;
      padding: 0;
      white-space: nowrap;
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;

      &:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      &.active {
        background: var(--color-neutral-token07);
        border-color: var(--color-neutral-token07);
        color: var(--color-neutral-token01);
      }
    }

    // Featured trending cards mobile layout
    .featured-trending-section {
      margin: 1.5rem 0;
      gap: 1.5rem;
    }

    .featured-trending-card {
      padding: 20px;
      border-radius: 16px;
      width: 100%;
      margin: 0 auto;
    }

    .featured-card-header {
      flex-direction: row;
      gap: 12px;
      align-items: flex-start;
    }

    .identity-block {
      flex-direction: row;
      gap: 12px;
      align-items: flex-start;
      flex: 1;
    }

    .identity-image {
      width: 50px;
      height: 50px;
      border-radius: 8px;
      flex-shrink: 0;
    }

    .identity-meta {
      flex: 1;
      gap: 8px;
    }

    .identity-name-row {
      flex-direction: row;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .identity-name {
      font-size: 18px;
    }

    .identity-symbol {
      font-size: 0.75rem;
      padding: 2px 8px;
    }

    .card-action-buttons {
      align-self: flex-start;
      gap: 6px;
    }

    .icon-button {
      width: 32px;
      height: 32px;
    }

    .featured-metrics-row {
      flex-direction: row;
      gap: 8px;
      flex-wrap: wrap;
    }

    .metric-card {
      min-width: auto;
      flex: 1;
      padding: 8px 12px;
      flex-direction: row;
      align-items: center;
      gap: 4px;
      min-width: auto;

      &:nth-child(2) {
        display: none; // Token 섹션 숨기기
      }
    }

    .metric-inline-title {
      font-size: 14px;
    }

    .metric-inline-subtitle {
      font-size: 14px;
    }

    .metric-inline-value {
      font-size: 14px;
      margin-left: 0;
      color: #ffffff !important;
    }

    .metric-inline-value.positive,
    .metric-inline-value.negative {
      color: #ffffff !important;
    }

    .metric-inline-change {
      font-size: 12px;
      margin-left: 2px;
      color: #ffffff;
    }

    .featured-info-strip {
      flex-direction: column;
      gap: 8px;
      padding: 12px;
      align-items: stretch;
    }

    .featured-strip-block {
      flex: none;
      width: 100%;
    }

    .strip-title {
      font-size: 16px;
    }

    .strip-chips {
      flex-wrap: wrap;
      gap: 4px;
    }

    .strip-chip {
      font-size: 14px;
      padding: 3px 6px;
      border: none;
      background: transparent;
    }

    .strip-last-trade {
      font-size: 14px;
    }

    .last-trade-type {
      font-size: 14px;
    }

    .last-trade-detail {
      font-size: 14px;
    }

    .featured-buy-button {
      width: 100%;
      max-width: 530px;
      height: 68px;
      padding: 0;
      font-size: 0.9rem;
      margin: 0 auto;
    }

    // Token table mobile layout
    .token-table {
      .table-header,
      .table-row {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        padding: 1rem;
      }

      .col-token,
      .col-market-cap,
      .col-last-trade,
      .col-top-trade,
      .col-total-pnl,
      .col-action {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.5rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);

        &:before {
          content: attr(data-label);
          font-weight: 600;
          color: var(--color-neutral-token03);
          font-size: 0.85rem;
        }
      }

      .col-action {
        border-bottom: none;
        justify-content: center;
      }
    }

    // Hide some elements on very small screens
    .strip-empty {
      font-size: 0.8rem;
    }

    .last-trade-detail {
      font-size: 0.85rem;
    }
  }
}
